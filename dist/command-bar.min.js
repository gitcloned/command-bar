/*
 *  command-bar - v0.0.1
 *  Simple customizable Java-Script command bar control
 *  https://github.com/gitcloned/command-bar
 *
 *  Made by gitcloned
 *  Under MIT License
 */
var Elem=function(a,b,c){this.name=a,this.elem=b,this.options=c};Elem.prototype.hide=function(){this.elem.hide()},Elem.prototype.show=function(){this.elem.show()},Elem.prototype.remove=function(){this.elem.remove()};var ActionGroup=function(a,b,c){Elem.call(this,a,b,c),this.actions={}};ActionGroup.prototype=Object.create(Elem.prototype),ActionGroup.prototype.action=function(a){return"string"==typeof a?this.actions[a]:(this.actions[a.name]=a,void this.elem.append(a.elem))};var ActionItem=function(a,b,c){Elem.call(this,a,b,c),this.actions={}};ActionItem.prototype=Object.create(Elem.prototype),ActionItem.prototype.render=function(a){if(this.options.render)return this.elem.append(this.options.render(a,name,this)),this;$("<span />").addClass("action-text").text(this.options.title).appendTo(this.elem),this.options.icon&&$("<span />").addClass("action-icon fa ").addClass("fa-"+this.options.icon).appendTo(this.elem);var b=this;return this.elem.unbind("click.action"),this.elem.bind("click.action",function(c){b.emit(a,"click",c,{})}),this},ActionItem.prototype.emit=function(a,b,c,d){a.emit(this.name,"click",c,d),a.emit("action",this.name,"click",c,d)},$(function(){$.widget("ui.commandbar",{options:{bar:null},_create:function(){this.bar=this.options.bar||new CommandBar(this.element,null,!0)},addAction:function(a){var b=a.name,c=(a.title,a.icon,a.group||"default"),d=(a.render,$("<div data-name='"+b+"' />").addClass("group-bar-item")),e=new ActionItem(a.name,d,a);e.render(this.bar),this.bar.groups[c].action(e)},addGroup:function(a){var b=a.name,c=$("<div data-name='"+b+"' />").addClass("group-bar").appendTo(this.element),d=new ActionGroup(a.name,c,a);this.bar.groups[a.name]=d},_refresh:function(){},_destroy:function(){},_setOptions:function(){this._superApply(arguments),this._refresh()},_setOption:function(a,b){/red|green|blue/.test(a)&&(b<0||b>255)||this._super(a,b)}})});var EventEmitter=function(a){this.app=a,this.funcs={}};EventEmitter.prototype.emit=function(){for(var a=arguments[0],b=[],c=1;c<arguments.length;c++)b.push(arguments[c]);if(this.funcs[a])for(var c=0;c<this.funcs[a].length;c++)"string"==typeof this.funcs[a][c]?window[this.funcs[a][c]].apply(null,b):this.funcs[a][c].apply(null,b)},EventEmitter.prototype.on=function(a,b){return this.funcs[a]=this.funcs[a]?this.funcs[a]:[],this.funcs[a].push(b),this},EventEmitter.prototype.removeListener=function(a,b){this.funcs[a]=this.funcs[a]?this.funcs[a]:[];for(var c=0;c<this.funcs[a].length;c++)if(this.funcs[a][c]===b){this.funcs[a].splice(c,1);break}};var CommandBar=function(a,b,c){EventEmitter.call(this),b=b||{},c||(b.bar=this,this.elem=$(a).commandbar(b||{})),this.groups={},this.group({name:"default"})};CommandBar.prototype=Object.create(EventEmitter.prototype),CommandBar.prototype.group=function(a){return"string"==typeof a?this.groups[a]:(this.elem.commandbar("addGroup",a),this)},CommandBar.prototype.action=function(a){return this.elem.commandbar("addAction",a),this};